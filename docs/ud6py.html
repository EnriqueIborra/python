<!DOCTYPE html>
<html lang="ca-ES">  
  <!--  al ponerlo en catalan, fuerzo al navegador a poner el traductor-->
  <!-- es-ES  lenguaje - ubicacion    -->
<head>
  <meta charset="UTF-8">
  <link rel="alternate" hreflang="ca-ES">
  <link rel="icon" href="https://www.python.org/favicon.ico"> 
  <title> Introducci√≥ a la programaci√≥</title>
  <link rel="stylesheet" href="estilsunitatspy.css">
  <link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css" />
</head>
<body>

  <header>
    <a href="index.html"><img src="imgs/phyton2-rbg.png" alt="python"></a>
    <h1>Unitat Did√†ctica 6: Classes en POO</h1>
    <h1> </h1>
  </header>

<nav>
  <h3>√çndex</h3>
  
  <a href="#classe">Concepte de classe</a>
  <a href="#estructura">Estructura i membres d'una classe</a>
  <a href="#visibilitat">Visibilitat</a>
  <a href="#metodes">Metodes</a>
  <a href="#herencia">Herencia</a>
  <a href="#iterables">Classes iterables</a>
  <a href="#exercicis">Exercicis</a>
  
</nav>

<main>

<section id="classe">
  <h1> Concepte de Classe en Python</h1>

  <p>Una <strong>classe</strong> √©s una plantilla que serveix per crear <strong>objectes</strong>. Defineix quins atributs (dades) i m√®todes (funcions) tindran aquests objectes.</p>

  <h2> Exemple b√†sic de definici√≥ de classe</h2>
  <pre><code>class Cotxe:
    def __init__(self, marca, model):
        self.marca = marca
        self.model = model

    def mostrar_info(self):
        print(f"{self.marca} {self.model}")</code></pre>

  <h2>üöó Creaci√≥ d‚Äôobjectes a partir de la classe</h2>
  <pre><code>cotxe1 = Cotxe("Toyota", "Corolla")
cotxe2 = Cotxe("Ford", "Focus")

cotxe1.mostrar_info()  # Toyota Corolla
cotxe2.mostrar_info()  # Ford Focus</code></pre>

  <h2> Parts d'una classe</h2>
  <table>
    <thead>
      <tr>
        <th>Component</th>
        <th>Descripci√≥</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>class</code></td>
        <td>Paraula clau per crear una classe</td>
      </tr>
      <tr>
        <td><code>__init__()</code></td>
        <td>Constructor: defineix com s'inicialitza l‚Äôobjecte</td>
      </tr>
      <tr>
        <td><code>self</code></td>
        <td>Refer√®ncia a l'objecte actual</td>
      </tr>
      <tr>
        <td>Atributs</td>
        <td>Informaci√≥ de l‚Äôobjecte (com <code>self.marca</code>)</td>
      </tr>
      <tr>
        <td>M√®todes</td>
        <td>Funcions dins la classe (com <code>mostrar_info()</code>)</td>
      </tr>
    </tbody>
  </table>

  <h2>üßæ Resum r√†pid</h2>
  <table>
    <thead>
      <tr>
        <th>Concepte</th>
        <th>Significat</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Classe</td>
        <td>Plantilla per crear objectes</td>
      </tr>
      <tr>
        <td>Objecte</td>
        <td>Inst√†ncia concreta d‚Äôuna classe</td>
      </tr>
      <tr>
        <td>Atribut</td>
        <td>Caracter√≠stica de l‚Äôobjecte (com el nom o l‚Äôedat)</td>
      </tr>
      <tr>
        <td>M√®tode</td>
        <td>Acci√≥ o comportament de l‚Äôobjecte</td>
      </tr>
    </tbody>
  </table>

  <h2>üéì Exemple de la vida real</h2>
  <ul>
    <li><strong>Classe:</strong> <code>Persona</code></li>
    <li><strong>Objecte:</strong> <code>p1 = Persona("Anna", 30)</code></li>
    <li><strong>Atributs:</strong> nom, edat</li>
    <li><strong>M√®todes:</strong> parlar(), caminar(), etc.</li>
  </ul>

</section>  


<section id="estructura">

  <h1> Estructura i Membres d'una Classe en Python</h1>

  <p>Una <strong>classe</strong> en Python √©s una plantilla per crear objectes. Cont√© atributs (dades) i m√®todes (funcions) que defineixen el comportament i l‚Äôestat dels objectes.</p>

  <h2> Estructura b√†sica</h2>
  <pre><code>class NomClasse:
    atribut_classe = valor

    def __init__(self, par√†metres):
        self.atribut_instancia = valor

    def metode(self):
        pass</code></pre>

  <h2> Membres d'una classe</h2>
  <table>
    <thead>
      <tr>
        <th>Tipus</th>
        <th>Descripci√≥</th>
        <th>Exemple</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Atribut de classe</td>
        <td>Compartit per tots els objectes</td>
        <td><code>atribut_classe = 0</code></td>
      </tr>
      <tr>
        <td>Atribut d‚Äôinst√†ncia</td>
        <td>√önic per a cada objecte</td>
        <td><code>self.nom = "Anna"</code></td>
      </tr>
      <tr>
        <td>Constructor</td>
        <td>Inicialitza l‚Äôobjecte</td>
        <td><code>def __init__(self):</code></td>
      </tr>
      <tr>
        <td>M√®tode d‚Äôinst√†ncia</td>
        <td>Opera sobre l‚Äôobjecte (usa <code>self</code>)</td>
        <td><code>def parlar(self):</code></td>
      </tr>
      <tr>
        <td>M√®tode de classe</td>
        <td>Opera sobre la classe (usa <code>@classmethod</code>)</td>
        <td><code>def crear(cls):</code></td>
      </tr>
      <tr>
        <td>M√®tode est√†tic</td>
        <td>No dep√®n ni de la classe ni de l‚Äôobjecte</td>
        <td><code>def ajuda():</code></td>
      </tr>
    </tbody>
  </table>

  <h2> Exemple complet</h2>
  <pre><code>class Persona:
    especie = "Hum√†"  # Atribut de classe

    def __init__(self, nom, edat):
        self.nom = nom          # Atribut d‚Äôinst√†ncia
        self.edat = edat

    def saludar(self):          # M√®tode d‚Äôinst√†ncia
        print(f"Hola! S√≥c {self.nom}.")

    @classmethod
    def info_especie(cls):      # M√®tode de classe
        print(f"Tots som {cls.especie}")

    @staticmethod
    def ajuda():                # M√®tode est√†tic
        print("Usa __init__ per crear objectes.")</code></pre>

  <h2> Resum r√†pid</h2>
  <table>
    <thead>
      <tr>
        <th>Membre</th>
        <th>Funci√≥</th>
        <th>Acc√©s</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>atribut_classe</code></td>
        <td>Valor com√∫ a tots els objectes</td>
        <td><code>Classe.nom</code></td>
      </tr>
      <tr>
        <td><code>self.atribut</code></td>
        <td>Valor espec√≠fic de cada objecte</td>
        <td>Nom√©s via inst√†ncia</td>
      </tr>
      <tr>
        <td><code>@classmethod</code></td>
        <td>Treballa amb la classe (cls)</td>
        <td><code>Classe.metode()</code></td>
      </tr>
      <tr>
        <td><code>@staticmethod</code></td>
        <td>No usa ni <code>self</code> ni <code>cls</code></td>
        <td><code>Classe.metode()</code></td>
      </tr>
      <tr>
        <td><code>__init__</code></td>
        <td>Constructor de l'objecte</td>
        <td>Executat autom√†ticament</td>
      </tr>
    </tbody>
  </table>

</section>


<section id="visibilitat">
  <h1> Visibilitat en Classes en Python</h1>

  <p>En Python, la visibilitat determina si un atribut o m√®tode d'una classe √©s accessible des de fora. Python no fa servir paraules clau com <code>public</code> o <code>private</code>, per√≤ utilitza convencions amb els noms.</p>

  <h2> Tipus de visibilitat</h2>
  <table>
    <thead>
      <tr>
        <th>Tipus</th>
        <th>Com s‚Äôescriu</th>
        <th>Accessible des de fora?</th>
        <th>Comentari</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>P√∫blica</td>
        <td><code>self.nom</code></td>
        <td>‚úÖ S√≠</td>
        <td>Qualsevol pot accedir</td>
      </tr>
      <tr>
        <td>Protegida</td>
        <td><code>self._nom</code></td>
        <td>‚ö†Ô∏è S√≠ (es desaconsella)</td>
        <td>Convenci√≥ per indicar √∫s intern</td>
      </tr>
      <tr>
        <td>Privada</td>
        <td><code>self.__nom</code></td>
        <td>üö´ No directament</td>
        <td>Nom√©s accessible dins la classe</td>
      </tr>
    </tbody>
  </table>

  <h2>üîß Exemple de codi</h2>
  <pre><code>class Persona:
    def __init__(self, nom, edat):
        self.nom = nom           # P√∫blic
        self._edat = edat        # Protegit
        self.__dni = "12345678Z" # Privat

    def mostrar_info(self):
        print(f"Nom: {self.nom}, Edat: {self._edat}")

    def mostrar_dni(self):
        print(f"DNI: {self.__dni}")

p = Persona("Anna", 30)

print(p.nom)        #  ‚úÖ P√∫blic   ->  mostra : Anna
print(p._edat)      # ‚ö†Ô∏è Protegit  ->  mostra: 30
# print(p.__dni)    # ‚ùå Error: No accessible directament  -> mostra error

p.mostrar_dni()     # ‚úÖ Acc√©s a privat amb m√®tode  -> mostra:  DNI: 12345678Z
</code></pre>

  <h2>üîç Name Mangling (accedir a atributs privats)</h2>
  <p>Els atributs privats es poden accedir si coneixes el nom intern generat per Python:</p>
  <pre><code>print(p._Persona__dni)  # ‚úÖ Possible (per√≤ no recomanat)</code></pre>

  <h2> Resum r√†pid</h2>
  <table>
    <thead>
      <tr>
        <th>Notaci√≥</th>
        <th>Tipus</th>
        <th>Acc√©s extern</th>
        <th>√ös recomanat</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>atribut</code></td>
        <td>P√∫blic</td>
        <td>‚úÖ S√≠</td>
        <td>Per atributs oberts</td>
      </tr>
      <tr>
        <td><code>_atribut</code></td>
        <td>Protegit</td>
        <td>‚ö†Ô∏è S√≠</td>
        <td>√ös intern o per subclasses</td>
      </tr>
      <tr>
        <td><code>__atribut</code></td>
        <td>Privat</td>
        <td>üö´ No (excepte amb truc)</td>
        <td>Per ocultar dades sensibles</td>
      </tr>
    </tbody>
  </table>



</section>

<section id="metodes">
   <h1>M√®todes especials</h1>
   <h2> M√®todes m√†gics o ‚Äúdunder‚Äù</h2>
        <p>Els m√®todes especials comencen i acaben amb dos guions baixos (<code>__</code>). Se'ls anomena sovint ‚Äúdunder‚Äù (de l'angl√©s ‚Äú<strong>Double UNDERscore</strong>‚Äù).</p>

        <ul>
            <li><code>__init__</code>: Inicialitza un objecte. Sempre s‚Äôexecuta quan es crea una nova inst√†ncia.</li>
            <li><code>__str__</code>: Retorna una representaci√≥ en forma de cadena de text de l‚Äôobjecte (√∫til per imprimir-lo).</li>
            <li><code>__len__</code>: Permet definir la longitud de l‚Äôobjecte (quan s‚Äôutilitza amb <code>len(obj)</code>).</li>
        </ul>

        <h3>Exemple amb __str__</h3>
        <pre><code>class Persona:
        def __init__(self, nom, edat):
            self.nom = nom
            self.edat = edat

        def __str__(self):
            return f"{self.nom}, {self.edat} anys"

    persona = Persona("Anna", 30)
    print(persona)  # Output: Anna, 30 anys
        </code></pre>

        <h3>Altres m√®todes dunder habituals:</h3>
        <ul>
            <li><code>__add__</code>, <code>__sub__</code>: Per sumar o restar objectes.</li>
            <li><code>__eq__</code>, <code>__lt__</code>, <code>__gt__</code>: Per comparar objectes (igual, menor, major).</li>
            <li><code>__iter__</code>, <code>__next__</code>: Per fer iterables personalitzats (com en bucles <code>for</code>).</li>
            <li><code>__getattr__</code>, <code>__setattr__</code>, <code>__delattr__</code>: Per controlar l‚Äôacc√©s i modificaci√≥ d‚Äôatributs.</li>
        </ul>

        <p>Per veure tots els m√®todes i atributs disponibles d‚Äôun objecte pots utilitzar:</p>
        <pre><code>print(dir(obj))</code></pre>
                       


</section>

<section id="herencia">
   <h1>Her√®ncia</h1>
     <p>La <strong>her√®ncia</strong> permet a una classe (filla) adquirir els atributs i m√®todes d‚Äôuna altra classe (pare). √âs un dels pilars de la POO i facilita la reutilitzaci√≥ de codi i l‚Äôorganitzaci√≥ jer√†rquica.</p>

  <h2> Estructura b√†sica</h2>
  <pre><code>class ClassePare:
    # atributs i m√®todes

class ClasseFilla(ClassePare):
    # hereta tot i pot afegir o modificar</code></pre>

  <h2>üß™ Exemple b√†sic</h2>
  <pre><code>class Animal:
    def parlar(self):
        print("Fa algun so")

class Gos(Animal):
    def parlar(self):  # sobrescriu
        print("Bup bup!")

class Gat(Animal):
    def parlar(self):
        print("Miau!")

a = Animal()
a.parlar()   # Fa algun so

g = Gos()
g.parlar()   # Bup bup!

cat = Gat()
cat.parlar() # Miau!
</code></pre>

  <h2> Cridar el constructor del pare amb <code>super()</code></h2>
  <pre><code>class Persona:
    def __init__(self, nom):
        self.nom = nom

class Estudiant(Persona):
    def __init__(self, nom, curs):
        super().__init__(nom)
        self.curs = curs</code></pre> 

<h2>Notes:</h2>
<ul>
    <li><code>super()</code> s'utilitza per a cridar m√®todes de la classe base.</li>
    <li>Les subclasses poden sobrescriure m√®todes de la classe base si necessiten comportament espec√≠fic.</li>
</ul>
    
<hr>
<h1>Encapsulaci√≥</h1>

<p>En Python, pots controlar l'acc√©s als atributs mitjan√ßant modificadors d'acc√©s:</p>
<ul>
    <li><strong>P√∫blic</strong> (<code>nom</code>): Es pot accedir des de qualsevol lloc.</li>
    <li><strong>Protegit</strong> (<code>_nom</code>): Indica que √©s per a √∫s intern (per convenci√≥).</li>
    <li><strong>Privat</strong> (<code>__nom</code>): Nom√©s accessible dins de la classe.</li>
</ul>

<h2>Exemple:</h2>
<pre><code>
    class CompteBancari:
        def __init__(self, titular, saldo):
            self.titular = titular
            self.__saldo = saldo  # Atribut privat
    
        def depositar(self, quantitat):
            self.__saldo += quantitat
    
        def mostrar_saldo(self):
            print(f"Saldo: {self.__saldo}")
    
    compte = CompteBancari("Carlos", 1000)
    compte.depositar(500)
    compte.mostrar_saldo()  # Output: Saldo: 1500
        </code></pre>
    
        <p><strong>Nota:</strong> Encara que els atributs privats no es poden accedir directament, es poden consultar mitjan√ßant m√®todes p√∫blics. Python tamb√© permet accedir-hi usant el nom modificat (<code>_Classe__atribut</code>), per√≤ aix√≤ no es recomana.</p>
    
        <hr>
    
        <h1>Polimorfisme</h1>
        <p>El polimorfisme permet que diferents classes tinguen un mateix m√®tode per√≤ amb comportaments diferents.</p>
    
        <h2>Exemple:</h2>
        <pre><code>
    class Au:
        def so(self):
            print("Cant gen√®ric")
    
    class Canari(Au):
        def so(self):
            print("Trinar")
    
    class √Änec(Au):
        def so(self):
            print("Quac quac")
    
    animals = [Canari(), √Änec(), Au()]
    for animal in animals:
        animal.so()
        </code></pre>
    
        <p>En aquest exemple, encara que totes les classes comparteixen el m√®tode <code>so()</code>, cada una executa una acci√≥ diferent. Aix√≤ √©s una aplicaci√≥ del polimorfisme.</p>
        


</section>

<section id="iterables">
  <h1>Classes Iterables</h1>
    
        <p>Pots crear els teus propis <strong>iterables</strong> definint una classe que implemente els m√®todes <code>__iter__()</code> i <code>__next__()</code>. Aix√≤ et permet crear seq√º√®ncies personalitzades que es poden rec√≥rrer amb bucles <code>for</code>.</p>
    
        <h2>Exemple d'un iterable personalitzat:</h2>
    
        <pre><code>class Comptador:
        def __init__(self, inici, fi):
            self.inici = inici
            self.fi = fi
    
        def __iter__(self):
            self.numero = self.inici
            return self
    
        def __next__(self):
            if self.numero <= self.fi:
                resultat = self.numero
                self.numero += 1
                return resultat
            else:
                raise StopIteration
    
    comptador = Comptador(1, 5)
    
    for numero in comptador:
        print(numero)
        </code></pre>
    
        <p>En aquest exemple, la classe <code>Comptador</code> √©s un iterable que genera nombres del 1 al 5. El bucle <code>for</code> recorre cada nombre generat per l'iterable i el mostra per consola.</p>
        <hr>


</section>

<section id="exercicis">
  <h1>Exercicis</h1>
  <h3>Els exercicis i tests corresponents a esta unitat es troben en Aules</h3>
</section>

</main>

<script>

  // Per poder copiar codi en el porta-retalls. S'ha de posar un bot√≥ en cada <pre>
      //  <div class="pre-container">
      //    <button class="copy-button">Copia Codi !</button>
  document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.copy-button');

    buttons.forEach(button => {
      button.addEventListener('click', function () {
        const code = this.nextElementSibling.innerText;
        navigator.clipboard.writeText(code).then(() => {
          this.innerText = ' ‚úî Copiat!';
          setTimeout(() => this.innerText = 'Copia Codi !', 3000);
        });
      });
    });
  });

</script>

</body>
</html>
