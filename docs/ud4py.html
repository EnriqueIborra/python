<!DOCTYPE html>
<html lang="ca-ES">  
  <!--  al ponerlo en catalan, fuerzo al navegador a poner el traductor-->
  <!-- es-ES  lenguaje - ubicacion    -->
<head>
  <meta charset="UTF-8">
  <link rel="alternate" hreflang="ca-ES">
  <link rel="icon" href="https://www.python.org/favicon.ico"> 
  <title> Introducci√≥ a la programaci√≥</title>
  <link rel="stylesheet" href="estilsunitatspy.css">
  <link rel="stylesheet" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css" />
</head>
<body>

  <header>
    <a href="index.html"><img src="imgs/phyton2-rbg.png" alt="python"></a>
    <h1>Unitat Did√†ctica 4: Fonaments de POO</h1>
    <h1> </h1>
  </header>

<nav>
  <h3>√çndex</h3>
  
  <a href="#objecte">Concepte d'objecte</a>
  <a href="#instanciacio">Instanciaci√≥ d'objectes</a>
  <a href="#utilitzacio">Utilitzaci√≥ d'objectes</a>
  <a href="#atributsclasse">Atributs de classe</a>
  <a href="#constructors">Constructors</a>
  <a href="#llibreries">Llibreries d'objectes</a>
  <a href="#destruccio">Destruccio</a>
  <a href="#exercicis">Exercicis</a>
   
</nav>

<main>

<section id="objecte">
  <h1>Qu√® √©s un objecte?</h1>
<img src="imgs/objecte1.png" alt="desc-objecte" width="30%" class="imatge-dreta">
  <p>Un <strong>objecte</strong> √©s una <strong>estructura que cont√© informaci√≥</strong> i <strong>accions que es poden fer amb eixa informaci√≥</strong>.</p>

  <p>Pots imaginar un objecte com una <em>caixa</em> que t√©:</p>
  <ul>
    <li> <strong>Dades</strong> (com n√∫meros, paraules, llistes‚Ä¶)</li>
    <li> <strong>Funcions</strong> (accions que pots fer amb eixes dades)</li>
  </ul>

  <h2> Exemple senzill:</h2>
  <p>Imagina un <strong>llapis</strong> com un objecte del m√≥n real:</p>
  <ul>
    <li>Informaci√≥: <code>color = "roig"</code>, <code>llarg√†ria = 10 cm </code></li>
    <li>Accions: <code>escriure()</code>, <code>dibuixar()</code>, <code>ferpunta()</code></li>
  </ul>

  <p>En Python, aix√≤ es pot representar aix√≠:</p>
  <pre><code>llapis1 = {
    "color": "roig",
    "llargaria": 10,
    "escriure": lambda: print("Estic escrivint..."),
}

print(llapis1["color"])      # Mostra 'roig'
llapis1["escriure"]()        # Crida l'acci√≥: Estic escrivint...
</code></pre>

  <h2> En resum:</h2>
  <p>Un <strong>objecte</strong> √©s com una <strong>combinaci√≥ de dades i comportament</strong>.</p>
  <p>Et permet <em>organitzar la informaci√≥</em> i <em>treballar amb ella</em> d‚Äôuna manera m√©s clara i potent.</p>
  <p><strong>No cal saber com s‚Äôha creat</strong>, nom√©s com utilitzar-lo.</p>

  <hr>
  <p>Es poden crear diversos objectes iguals, per√≤ amb dades diferents: Cada objecte tindr√† un nom diferent per a poder referir-se a ell.
    Aix√≠ podrem tindre  llapis1, llapis2, llapis3, ....
  </p>
  <p>I tots son llapis, de la classe Llapis</p>
  <p>Una classe √©s com un motle per a fer objectes. En la classe es definir√† que dades (atributs) i que m√©todes tindran els 
    objectes que es contruixquen amb eixa classe.    </p>

        
    <h1>...  en Python</h1>
    <p>En Python, un objecte √©s una entitat que cont√© dades (atributs) i comportaments (m√®todes). 
        Tot en Python √©s un objecte: nombres, cadenes, llistes, funcions, etc.</p>
    <pre>
    x = 5
    print(type(x))  # < class 'int'>
    </pre>
    <p>Ac√≠, <code>x</code> √©s un objecte de la classe <code>int</code>.</p>
    <pre>
Classe: √âs un motle que permet crear un objecte. 
   Una classe √©s capa√ß de definir un objecte juntament amb les seues propietats (atributs) 
   i les seues modificacions (m√®todes)
Objecte: √âs la inst√†ncia d'una classe i consta de:
Estat. Representat pels atributs de l'objecte, que reflecteixen les seues propietats
Comportament. Representat pels m√®todes de l'objecte, que reflecteixen la seua resposta a altres objectes            
        </pre>
        <p>Un <strong>objecte</strong> en Python √©s una inst√†ncia d‚Äôuna <strong>classe</strong> i pot tindre:</p>
        <ul>
            <li><strong>Atributs:</strong> Dades que descriuen les propietats de l‚Äôobjecte.</li>
            <li><strong>M√®todes:</strong> Funcions que defineixen el comportament de l‚Äôobjecte.</li>
        </ul>
    
        <p><strong>Exemple b√†sic:</strong></p>
        <pre><code>
         cad1 = "Frase curta"    # Crear objecte 'cad1'  ==> instanciar objecte. La classe la detecta Python ( string )
         print(cad1)           # Accedir al valor,  <strong>atribut</strong>
         cad1 = cad1.upper();   #  Executar m√®tode  <code>upper()</code> ==>  ()
        </code></pre>
    
 
        <h1>Creaci√≥ de Classes </h1>
    <img src="imgs/classe1.jpg" alt="desc-objecte" width="30%" class="imatge-dreta">
        <p>Una <strong>classe</strong> √©s la plantilla o motle, o model que defineix com es creen els objectes d'exia classe.</p>
    
        <h2>Crear una classe</h2>
        <p>Per crear una classe en Python, utilitzes la paraula clau <code> class </code>. Ac√≠ tens un exemple b√†sic:</p>
        <p>En el seg√ºent exemple, la classe <code>Cotxe</code> servir√† per a definir objectes (cotxes) amb tres atributs (dades) i un m√®tode</p>
        <pre><code>class Cotxe:
        def __init__(self, marca, model, color):
            self.marca = marca   # Atribut marca
            self.model = model   # Atribut model
            self.color = color   # Atribut color
    
        def descriure(self):     # M√®tode per descriure el cotxe
            print(f"Aquest cotxe √©s un {self.color} {self.marca} {self.model}.")
        </code></pre>
        <p>En aquest exemple, hem creat una classe <code>Cotxe</code> amb tres atributs: <code>marca</code>, <code>model</code> i <code>color</code>. Tamb√© hem definit un m√®tode <code>descriure()</code> per imprimir una descripci√≥ del cotxe.</p>
 </section>

<section id="instanciacio">        
        <h1>Inst√†ncies</h1>
        <h2>Crear objectes (inst√†ncies d'una classe)</h2>
        <pre><code>
    el_meu_cotxe = Cotxe("Toyota", "Corolla", "roig")
    altre_cotxe = Cotxe("Honda", "Civic", "blau")
        </code></pre>
        
        <p>En este codi, hem creat dues inst√†ncies de la classe Cotxe: <code> el_meu_cotxe</code> i <code>altre_cotxe</code>. Cada objecte t√© els seus propis valors per als atributs, per√≤ comparteixen els mateixos m√®todes definits a la classe.</p>
  
</section>        
<section id="utilitzacio">
     <h1>Utilitzaci√≥</h1>
     <p>Per accedir a un m√®tode o un atribut d'un objecte, s'ha de posar el nom del objecte, seguit d'un punt (.) i seguit del nom del m√®tode o atribut</p>
     <p>La difer√®ncia entre m√®tode i atribut es pot notar en que en el m√®tode sempre hi ha par√®ntesi () , i en l'atribut no</p>
         <pre><code>
    # Accedir als atributs i m√®todes
    print( el_meu_cotxe.marca )     # Output: Toyota   . Despr√©s de marca no hi ha par√®ntesi
    el_meu_cotxe.descriure()      # Output: Aquest cotxe √©s un roig Toyota Corolla.
        </code></pre>

</section>

<section id="atributsclasse">
       <h1>Atributs d‚Äôinst√†ncia vs. atributs de classe</h1>

        <ul>
            <li><strong>Atributs d‚Äôinst√†ncia</strong>: S√≥n propietats espec√≠fiques d‚Äôun objecte concret (definides al m√®tode <code>__init__</code>).</li>
            <li><strong>Atributs de classe</strong>: S√≥n compartits per totes les inst√†ncies d‚Äôuna mateixa classe.</li>
        </ul>
  <h2> Atributs d‚Äôinst√†ncia</h2>
  <p>S√≥n propis de cada objecte concret. Es defineixen dins del m√®tode <code>__init__</code>.</p>

  <pre><code>class Gos:
    def __init__(self, nom, ra√ßa):
        self.nom = nom
        self.ra√ßa = ra√ßa

gos1 = Gos("Rex", "Labrador")
gos2 = Gos("Boby", "Pomerania")

print(gos1.nom)  # Rex
print(gos2.nom)  # Boby
</code></pre>

  <h2> Atributs de classe</h2>
  <p>S√≥n compartits entre tots els objectes de la classe. Es defineixen fora del <code>__init__</code>.</p>

  <pre><code>class Gos:
    pates = 4  # Atribut de classe

    def __init__(self, nom):
        self.nom = nom

gos1 = Gos("Rex")
gos2 = Gos("Boby")

print(gos1.pates)  # 4
print(gos2.pates)  # 4

print(Gos.pates)  # 4  :  no es nomena cap objecte concret
</code></pre>

  <h2> Comparaci√≥ r√†pida</h2>
  <table border="1" cellpadding="6" cellspacing="0">
    <tr>
      <th>Tipus</th>
      <th>On es defineix</th>
      <th>√âs √∫nic per objecte?</th>
      <th>Exemple d'acc√©s</th>
    </tr>
    <tr>
      <td>Atribut d‚Äôinst√†ncia</td>
      <td>Dins de <code>__init__</code></td>
      <td>‚úÖ S√≠</td>
      <td><code>self.nom</code></td>
    </tr>
    <tr>
      <td>Atribut de classe</td>
      <td>Fora de <code>__init__</code></td>
      <td>‚ùå No</td>
      <td><code>Classe.nom</code> o <code>self.nom</code></td>
    </tr>
  </table>

  <h2> Exemple combinat</h2>

  <pre><code>class Cotxe:
    rodes = 4  # Atribut de classe

    def __init__(self, marca):
        self.marca = marca  # Atribut d‚Äôinst√†ncia

cotxe1 = Cotxe("Toyota")
cotxe2 = Cotxe("Ford")

print(cotxe1.marca)  # Toyota
print(cotxe2.marca)  # Ford
print(cotxe1.rodes)  # 4
print(cotxe2.rodes)  # 4
</code></pre>

</section>

<section id="constructors">
  <h1>üß± Constructors en Python</h1>

  <h2>Qu√® √©s un constructor?</h2>
  <p>Un <strong>constructor</strong> √©s un m√®tode especial que s'executa autom√†ticament quan crees un objecte. En Python, aquest m√®tode es diu <code>__init__</code>.</p>

  <h2>üß© Sintaxi b√†sica</h2>
  <pre><code>class Persona:
    def __init__(self, nom, edat):
        self.nom = nom
        self.edat = edat
</code></pre>

  <ul>
    <li><code>__init__</code> ‚Üí √©s el constructor</li>
    <li><code>self</code> ‚Üí fa refer√®ncia a l'objecte</li>
    <li><code>nom</code> i <code>edat</code> ‚Üí s√≥n par√†metres</li>
  </ul>

  <h2>üß™ Exemple complet</h2>
  <pre><code>class Persona:
    def __init__(self, nom, edat):
        self.nom = nom
        self.edat = edat

    def saludar(self):
        print(f"Hola, s√≥c {self.nom} i tinc {self.edat} anys.")

persona1 = Persona("Anna", 30)
persona1.saludar()  # Hola, s√≥c Anna i tinc 30 anys.
</code></pre>

  <h2>üîÑ Constructor amb valors per defecte</h2>
  <pre><code>class Llibre:
    def __init__(self, titol, autor="Desconegut"):
        self.titol = titol
        self.autor = autor

llibre1 = Llibre("El Petit Pr√≠ncep")
print(llibre1.autor)  # Desconegut
</code></pre>

  <h2>‚ö†Ô∏è Coses a tenir en compte</h2>
  <ul>
    <li>El constructor sempre es diu <code>__init__</code>.</li>
    <li>No cal cridar-lo directament, Python ho fa autom√†ticament.</li>
    <li>Pots posar valors per defecte als par√†metres.</li>
  </ul>

  <p>‚ùå No es poden definir m√∫ltiples constructors com en altres llenguatges
     com Java o C++, perqu√® Python no suporta sobrec√†rrega de m√®todes de forma nativa.</p>

   <p>Alternatives</p>  
   <ul>
    <li>√ös de valors per defecte (vist abans)</li>
    <li>Detectar arguments amb *args i **kwargs</li>
   </ul>
 <p>exemple</p>
<pre><code>
class Persona:
    def __init__(self, *args):
        if len(args) == 0:
            self.nom = "Desconegut"
            self.edat = 0
        elif len(args) == 1:
            self.nom = args[0]
            self.edat = 0
        elif len(args) == 2:
            self.nom = args[0]
            self.edat = args[1]
        else:
            raise ValueError("Massa arguments")

p1 = Persona()
p2 = Persona("Anna")
p3 = Persona("Joan", 35)

</code></pre>

</section>

<section id="llibreries">
  <h1>üì¶ Llibreries d‚Äôobjectes en Python</h1>

  <p>En Python, una <strong>llibreria d‚Äôobjectes</strong> √©s una col¬∑lecci√≥ de codi (funcions, classes, constants...) que ens proporciona <strong>classes ja fetes</strong> per treballar amb objectes directament.</p>

  <h2> Exemple b√†sic: <code>datetime</code></h2>
  <pre><code>import datetime

ara = datetime.datetime.now()
print(ara.year)   # Mostra l'any actual
print(ara.month)  # Mostra el mes</code></pre>

  <p>Aqu√≠, <code>datetime.datetime.now()</code> retorna un objecte amb atributs √∫tils per gestionar dates i hores.</p>

  <h2> Llibreries comunes amb objectes √∫tils</h2>
  <table>
    <thead>
      <tr>
        <th>Llibreria</th>
        <th>√ös principal</th>
        <th>Exemple d'objecte</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>datetime</code></td>
        <td>Dates i hores</td>
        <td><code>datetime.datetime</code></td>
      </tr>
      <tr>
        <td><code>random</code></td>
        <td>N√∫meros aleatoris</td>
        <td><code>random.Random()</code></td>
      </tr>
      <tr>
        <td><code>tkinter</code></td>
        <td>Interf√≠cies gr√†fiques (GUI)</td>
        <td><code>tk.Tk()</code></td>
      </tr>
      <tr>
        <td><code>math</code></td>
        <td>Funcions matem√†tiques</td>
        <td>Constants i funcions</td>
      </tr>
      <tr>
        <td><code>json</code></td>
        <td>Treball amb fitxers JSON</td>
        <td><code>json.loads()</code></td>
      </tr>
    </tbody>
  </table>

  <h2>‚úÖ Exemple amb <code>random</code></h2>
  <pre><code>import random

nombre = random.randint(1, 10)
print(f"Has obtingut el n√∫mero {nombre}")</code></pre>

  <p>Aqu√≠, <code>randint</code> √©s un m√®tode que forma part d‚Äôun objecte de la llibreria <code>random</code>.</p>

  <h2> En resum</h2>
  <ul>
    <li>Una llibreria d'objectes cont√© classes i m√®todes predefinits.</li>
    <li>Permet treballar amb funcionalitats avan√ßades sense reinventar la roda.</li>
    <li>Els objectes encapsulen dades i accions √∫tils.</li>
  </ul>

</section>

<section id="destruccio">
<h1>üßπ Destrucci√≥ d‚Äôobjectes i alliberament de mem√≤ria en Python</h1>

  <h2> Qu√® √©s la destrucci√≥ d‚Äôun objecte?</h2>
  <p>Quan un objecte ja no t√© cap refer√®ncia, Python el destrueix i allibera la mem√≤ria autom√†ticament mitjan√ßant el <strong>garbage collector</strong>.</p>

  <h2>üîß M√®tode especial <code>__del__()</code></h2>
  <p>Pots definir el m√®tode <code>__del__()</code> per executar accions quan un objecte es destrueix.</p>

  <pre><code>class Persona:
    def __init__(self, nom):
        self.nom = nom
        print(f"Objecte creat: {self.nom}")

    def __del__(self):
        print(f"Objecte destru√Øt: {self.nom}")

p = Persona("Anna")
del p  # For√ßa la destrucci√≥</code></pre>

  <h2> Alliberament autom√†tic de mem√≤ria</h2>
  <ul>
    <li>Python t√© un sistema autom√†tic de recollida d‚Äôobjectes in√∫tils (garbage collector).</li>
    <li>Quan un objecte ja no √©s necessari, s‚Äôallibera la mem√≤ria que ocupava.</li>
  </ul>

  <h2> Exemple amb funci√≥</h2>
  <pre><code>def crear_persona():
    p = Persona("Joan")

crear_persona()
# Quan surt de la funci√≥, l‚Äôobjecte s‚Äôelimina autom√†ticament</code></pre>

  <h2>üõ†Ô∏è For√ßar el garbage collector</h2>
  <pre><code>import gc
gc.collect()  # For√ßa la neteja de mem√≤ria</code></pre>

  <h2>‚ö†Ô∏è Notes sobre l‚Äô√∫s de <code>__del__()</code></h2>
  <ul>
    <li>Evita usar-lo si no √©s estrictament necessari.</li>
    <li>Pot causar problemes en cicles de refer√®ncia o en l‚Äôordre de destrucci√≥.</li>
    <li>Millor fer servir <code>with</code> o <code>try/finally</code> per tancar recursos.</li>
  </ul>

</section>

<section id="exercicis">
  <h1>Exercicis</h1>
  <h3>Els exercicis i tests corresponents a esta unitat es troben en Aules</h3>
</section>


</main>

<script>

  // Per poder copiar codi en el porta-retalls. S'ha de posar un bot√≥ en cada <pre>
      //  <div class="pre-container">
      //    <button class="copy-button">Copia Codi !</button>
  document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.copy-button');

    buttons.forEach(button => {
      button.addEventListener('click', function () {
        const code = this.nextElementSibling.innerText;
        navigator.clipboard.writeText(code).then(() => {
          this.innerText = ' ‚úî Copiat!';
          setTimeout(() => this.innerText = 'Copia Codi !', 3000);
        });
      });
    });
  });

</script>

</body>
</html>
